local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

--// Spoof Table
local spoofedValues = {
	WalkSpeed = humanoid.WalkSpeed,
	JumpPower = humanoid.JumpPower
}

--// Hook Metamethod
local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldIndex = mt.__index

mt.__index = newcclosure(function(self, key)
	if self == humanoid and spoofedValues[key] then
		return spoofedValues[key]
	end
	return oldIndex(self, key)
end)
setreadonly(mt, true)

--// GUI Setup
local gui = Instance.new("ScreenGui", CoreGui)
gui.Name = "WSJP_GUI"

local openButton = Instance.new("TextButton", gui)
openButton.Size = UDim2.new(0, 150, 0, 50)
openButton.Position = UDim2.new(0, 20, 0.5, -100)
openButton.Text = "Open Speed Menu"
openButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
openButton.TextColor3 = Color3.new(1, 1, 1)
openButton.Font = Enum.Font.SourceSansBold
openButton.TextScaled = true
openButton.Active = true
openButton.Draggable = true

local ui = Instance.new("UICorner", openButton)
ui.CornerRadius = UDim.new(0, 10)

local mainFrame = Instance.new("Frame", openButton)
mainFrame.Size = UDim2.new(0, 200, 0, 200)
mainFrame.Position = UDim2.new(0, 20, 0.5, -30)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Visible = false

local ui = Instance.new("UICorner", mainFrame)
ui.CornerRadius = UDim.new(0, 10)

local layout = Instance.new("UIListLayout", mainFrame)
layout.Padding = UDim.new(0, 10)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- WalkSpeed Input
local wsBox = Instance.new("TextBox", mainFrame)
wsBox.Size = UDim2.new(1, -20, 0, 40)
wsBox.Text = ""
wsBox.PlaceholderText = "Enter WalkSpeed"
wsBox.TextColor3 = Color3.new(1, 1, 1)
wsBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
wsBox.Font = Enum.Font.SourceSans
wsBox.TextSize = 18
wsBox.ClearTextOnFocus = false

local ui = Instance.new("UICorner", wsBox)
ui.CornerRadius = UDim.new(0, 10)

-- JumpPower Input
local jpBox = Instance.new("TextBox", mainFrame)
jpBox.Size = UDim2.new(1, -20, 0, 40)
jpBox.Text = ""
jpBox.PlaceholderText = "Enter JumpPower"
jpBox.TextColor3 = Color3.new(1, 1, 1)
jpBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
jpBox.Font = Enum.Font.SourceSans
jpBox.TextSize = 18
jpBox.ClearTextOnFocus = false

local ui = Instance.new("UICorner", jpBox)
ui.CornerRadius = UDim.new(0, 10)

-- Run Button
local runButton = Instance.new("TextButton", mainFrame)
runButton.Size = UDim2.new(1, -20, 0, 40)
runButton.Text = "Apply"
runButton.TextColor3 = Color3.new(1, 1, 1)
runButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
runButton.Font = Enum.Font.SourceSansBold
runButton.TextSize = 20

local ui = Instance.new("UICorner", runButton)
ui.CornerRadius = UDim.new(0, 10)

-- Toggle Visibility
openButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
end)

-- Apply Hooked Values
runButton.MouseButton1Click:Connect(function()
	local ws = tonumber(wsBox.Text)
	local jp = tonumber(jpBox.Text)

	if ws then
		humanoid.WalkSpeed = ws
		spoofedValues.WalkSpeed = ws
	end
	if jp then
		humanoid.JumpPower = jp
		spoofedValues.JumpPower = jp
	end
end)
